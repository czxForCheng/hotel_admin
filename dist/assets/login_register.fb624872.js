import{_ as b}from"./index.7fbf7ca8.js";import{F as y,a0 as V,C as k,t as w,I as W,w as x,D as L}from"./element-plus.0777841c.js";import{g as M,s as q}from"./user.2847546e.js";import{f as O}from"./index.0be731c2.js";import{d as f,r as U,$ as B,af as S,o as A,c as $,U as t,L as l,M as j,K as N,a as e,T as p,S as i}from"./@vue.e8706010.js";import"./@vueuse.fc17487b.js";import"./@element-plus.196c7323.js";import"./lodash-es.29c53eac.js";import"./dayjs.771f24d4.js";import"./axios.c369f2ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.d13b4135.js";import"./vue-router.12d45bc3.js";import"./pinia.dfca86b4.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.66a64c42.js";import"./color.bf494a29.js";import"./clone.7f7b5050.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.cffdefa4.js";import"./ms.a9ae1d6d.js";import"./nprogress.6c190664.js";import"./vue-clipboard3.94e9f0b6.js";import"./clipboard.36db0eb4.js";import"./echarts.234b3572.js";import"./zrender.8ee1a698.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.2cdc8407.js";const P={class:"login-register"},R=e("div",{class:"font-medium mb-7"},"\u901A\u7528\u8BBE\u7F6E",-1),I=i("\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"),T=i("\u624B\u673A\u9A8C\u8BC1\u7801\u767B\u5F55"),G=e("div",{class:"form-tips"},"\u7CFB\u7EDF\u901A\u7528\u767B\u5F55\u65B9\u5F0F\uFF0C\u81F3\u5C11\u9009\u62E9\u4E00\u9879",-1),K={class:"mt-1 ml-2"},z=e("div",{class:"form-tips"},[i(" 1\u3001\u5982\u679C\u5F00\u542F\uFF0C\u5219\u65B0\u7528\u6237\u5728\u6CE8\u518C\u5B8C\u6210\u4E4B\u540E\u8981\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A\u53F7"),e("br"),i(" 2\u3001\u8001\u7528\u6237\u767B\u5F55\u65F6\u5982\u679C\u68C0\u6D4B\u5230\u6CA1\u6709\u7ED1\u5B9A\u624B\u673A\uFF0C\u5219\u8981\u91CD\u65B0\u7ED1\u5B9A\u624B\u673A\u53F7 ")],-1),H={class:"mt-1 ml-2"},J=e("div",{class:"form-tips"},"\u767B\u5F55/\u6CE8\u518C\u4F1A\u5458\u65F6\uFF0C\u662F\u5426\u663E\u793A\u670D\u52A1\u534F\u8BAE\u548C\u9690\u79C1\u653F\u7B56",-1),Q=e("div",{class:"font-medium mb-7"},"\u7B2C\u4E09\u65B9\u8BBE\u7F6E",-1),X={class:"mt-1 ml-2"},Y=e("div",{class:"form-tips"},"\u767B\u5F55\u65F6\u652F\u6301\u7B2C\u4E09\u65B9\u767B\u5F55\uFF0C\u65B0\u7528\u6237\u6388\u6743\u5373\u81EA\u52A8\u6CE8\u518C\u8D26\u53F7",-1),Z=i("\u5FAE\u4FE1\u767B\u5F55"),uu={href:"https://open.weixin.qq.com/",target:"_blank"},eu=i(" \u524D\u5F80\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0 "),ou=e("div",{class:"form-tips"},[i(" 1\u3001\u5728\u5404\u6E20\u9053\u4F7F\u7528\u5FAE\u4FE1\u6388\u6743\u767B\u5F55\u65F6\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"),e("br"),i(" 2\u3001\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u5173\u8054\u516C\u4F17\u53F7\u3001\u5C0F\u7A0B\u5E8F\u548CAPP\u540E\uFF0C\u53EF\u5B9E\u73B0\u5404\u7AEF\u7528\u6237\u8D26\u53F7\u7EDF\u4E00\uFF0C\u8BC6\u522B\u4E70\u5BB6\u552F\u4E00\u5FAE\u4FE1\u8EAB\u4EFD"),e("br"),i(" 3\u3001\u6CA1\u6709\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\uFF0C\u540C\u4E00\u5FAE\u4FE1\u53F7\u4F1A\u751F\u6210\u591A\u4E2A\u7528\u6237\uFF0C\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u540E\u5DF2\u751F\u6210\u7684\u7528\u6237\u8D26\u53F7\u65E0\u6CD5\u5408\u5E76 ")],-1),tu=i("\u4FDD\u5B58"),lu=f({name:"loginRegister"}),Pu=f({...lu,setup(nu){const m=U(),u=B({loginWay:[],forceBindMobile:0,openAgreement:0,openOtherAuth:0,autoLoginAuth:[1,2]}),g=B({loginWay:[{required:!0,validator:(n,o,r)=>{if(u.loginWay.join("").length===0)r(new Error("\u767B\u5F55\u65B9\u5F0F\u81F3\u5C11\u9009\u62E9\u4E00\u9879\uFF01"));else{if(u.loginWay!==""){if(!m.value)return;m.value.validateField("checkPass",()=>null)}r()}},trigger:"change"}],forceBindMobile:[{required:!0,trigger:"blur"}],openAgreement:[{required:!0,trigger:"blur"}],openOtherAuth:[{required:!0,trigger:"blur"}]}),c=async()=>{try{const n=await M();for(const o in u)u[o]=n[o]}catch(n){console.log("\u83B7\u53D6=>",n)}},C=async()=>{var r;const n=u.loginWay.join(""),o=u.autoLoginAuth.join("");await((r=m.value)==null?void 0:r.validate());try{await q({...u,loginWay:n.length==2?`${n[0]},${n[1]}`:n,autoLoginAuth:o.length==2?`${o[0]},${o[1]}`:o}),O.msgSuccess("\u64CD\u4F5C\u6210\u529F"),c()}catch(s){console.log("\u4FDD\u5B58=>",s)}};return c(),(n,o)=>{const r=y,s=V,F=k,d=w,E=W,_=x,h=L,v=b,D=S("perms");return A(),$("div",P,[t(h,{ref_key:"formRef",ref:m,rules:g,model:u,"label-width":"120px"},{default:l(()=>[t(E,{shadow:"never",class:"!border-none"},{default:l(()=>[R,t(F,{label:"\u767B\u5F55\u65B9\u5F0F",prop:"loginWay"},{default:l(()=>[e("div",null,[t(s,{modelValue:u.loginWay,"onUpdate:modelValue":o[0]||(o[0]=a=>u.loginWay=a)},{default:l(()=>[t(r,{label:1},{default:l(()=>[I]),_:1}),t(r,{label:2},{default:l(()=>[T]),_:1})]),_:1},8,["modelValue"]),G])]),_:1}),t(F,{label:"\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A",prop:"forceBindMobile"},{default:l(()=>[e("div",null,[t(d,{modelValue:u.forceBindMobile,"onUpdate:modelValue":o[1]||(o[1]=a=>u.forceBindMobile=a),"active-value":1,"inactive-value":0},null,8,["modelValue"]),e("span",K,p(u.forceBindMobile?"\u5F00\u542F":"\u5173\u95ED"),1),z])]),_:1}),t(F,{label:"\u653F\u7B56\u534F\u8BAE",prop:"openAgreement"},{default:l(()=>[e("div",null,[t(d,{modelValue:u.openAgreement,"onUpdate:modelValue":o[2]||(o[2]=a=>u.openAgreement=a),"active-value":1,"inactive-value":0},null,8,["modelValue"]),e("span",H,p(u.openAgreement?"\u5F00\u542F":"\u5173\u95ED"),1),J])]),_:1})]),_:1}),t(E,{shadow:"never",class:"!border-none mt-4"},{default:l(()=>[Q,t(F,{label:"\u7B2C\u4E09\u65B9\u767B\u5F55",prop:"openOtherAuth"},{default:l(()=>[e("div",null,[t(d,{modelValue:u.openOtherAuth,"onUpdate:modelValue":o[3]||(o[3]=a=>u.openOtherAuth=a),"active-value":1,"inactive-value":0},null,8,["modelValue"]),e("span",X,p(u.openOtherAuth?"\u5F00\u542F":"\u5173\u95ED"),1),Y,e("div",null,[t(s,{modelValue:u.autoLoginAuth,"onUpdate:modelValue":o[4]||(o[4]=a=>u.autoLoginAuth=a)},{default:l(()=>[t(r,{label:1},{default:l(()=>[Z]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),t(F,{label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"},{default:l(()=>[e("div",null,[e("a",uu,[t(_,{type:"primary",link:"",class:"underline"},{default:l(()=>[eu]),_:1})]),ou])]),_:1})]),_:1})]),_:1},8,["rules","model"]),j((A(),N(v,null,{default:l(()=>[t(_,{type:"primary",onClick:C},{default:l(()=>[tu]),_:1})]),_:1})),[[D,["setting:login:save"]]])])}}});export{Pu as default};
